{
    "Comment": "Register User",
    "StartAt": "Get Invitation Template",
    "States": {
        "Get Invitation Template":{
            "Type": "Task",
            "Resource": "${GetInvitationTemplateFunctionArn}",
            "ResultPath": "$.emailTemplate",
            "Next": "Send Email"
        },

        "Send Email":{
            "Type": "Task",
            "Resource": "${SendEmailFunctionArn}",
            "Parameters": {
                "email.$": "$$.Execution.Input.email",
                "name.$": "$$.Execution.Input.name",
                "emailTemplate.$": "$.emailTemplate"
            },
            "End": true
        }
        
    }
}